% !TeX encoding = windows-1251
\section{Анализ предметной области и существующих решений}

\subsection{Особенности рекомендательных систем}

Рекомендательные системы (РС) являются неотъемлемой частью современных цифровых платформ, предоставляя пользователям персонализированные предложения продуктов, услуг или контента. Они находят широкое применение в различных областях, включая электронную коммерцию, стриминговые сервисы, социальные сети и онлайн-знакомства.

Основные функции рекомендательных систем включают:
\begin{itemize}
	\item отсутствие информации о новых пользователях и объектах (проблема холодного старта);
	\item высокая разреженность пользовательско-объектных матриц;
	\item необходимость обеспечения справедливости и отсутствия предвзятости в рекомендациях\cite{jin2023fairness}.
\end{itemize}

Современные исследования направлены на преодоление этих ограничений, в том числе с использованием больших языковых моделей, методов объяснимого машинного обучения и расширения пользовательского контекста \cite{zhao2023recommender}.

\subsection{Обзор рекомендательных систем в сфере онлайн-знакомств}

Онлайн-сервисы знакомств предъявляют особые требования к алгоритмам рекомендаций. Поскольку конечной целью является установление реального или виртуального контакта между людьми, системы должны максимально точно учитывать совместимость по широкому спектру признаков, при этом оставаясь достаточно лёгкими в вычислении и объяснимыми.

\subsubsection{OkCupid}

OkCupid начала с текстовых анкет и развила модель расчёта совместимости через детальные опросы. Пользователю предлагается до 400 вопросов, ответы на которые кодируются в вектор $q_i \in \{-1,0,1\}$, где значения означают «против», «безразлично» и «за» \cite{hitsch2010mate}.  
Система вычисляет попарную корреляцию ответов двух пользователей:
\[
\mathrm{compat}(u,v)
=\frac{\sum_i w_i\,\mathbf{1}(q_{u,i}=q_{v,i})}{\sum_i w_i},
\]
где $w_i$ — вес вопроса (определяется самим пользователем). Дальнейшее ранжирование учитывает активность и исторические данные о переписках. Такой гибридный подход сочетает content- и collaborative-элементы и позволяет получать качественные рекомендации даже при отсутствии большого числа лайков или свайпов.

\subsubsection{Tinder}

Tinder применяет модель \emph{reciprocal recommendation}: предлагаются только такие профили, которые с наибольшей вероятностью ответят взаимностью \cite{courtois2018tinder}. Основные компоненты алгоритма:
\begin{itemize}
	\item базовый \emph{рейтинговый Эло-подобный механизм}, где свайпы вправо увеличивают рейтинг профиля, влево уменьшают;
	\item измерение \emph{скорости реакции} и \emph{частоты использования} для оценки «живости» аккаунта;
	\item фильтрация неактивных и спорных профилей, чтобы не портить пользовательский опыт.
\end{itemize}
Исследования показывают, что такие меры уменьшают количество односторонних свайпов и повышают вероятность установления диалога между пользователями \cite{pidoux2021tinder}.

\subsubsection{Bumble и Hinge}

Bumble унаследовал от Tinder большинство алгоритмов, но ввёл правило, что первым сообщение отправляет только женщина. Это влияет на ранжирование: при прочих равных предпочтение отдается тем, кто реже получает безответные лайки и чаще инициирует общение \cite{jennings2019tinder}.  
Hinge выделяется принципом «создания общего контекста»: анализируются общие Facebook-друзья, интересы и местоположение. Рекомендации формируются через графовую модель, где вершины — пользователи, а рёбра взвешены по степени близости в социальных связях и ответам на три вступительных вопроса в профиле \cite{bruch2018aspirational}. Это позволяет сегментировать рынок знакомств на локальные сообщества и повышает релевантность для тех, кто ищет знакомых «по кругу общения».

\subsubsection{eHarmony}

eHarmony фокусируется на психологической совместимости. Новый пользователь заполняет обширный личностный опросник, после чего строится профиль в латентном пространстве через метод факторизации матрицы сходств по тестовым шкалам (MMPI и Big Five) \cite{lefebvre2022eharmony}. Дальнейшие рекомендации применяют content-модуль для расширения круга потенциальных партнёров за счёт схожести по интересам и ценностям.

\subsubsection{Coffee Meets Bagel и другие}

Coffee Meets Bagel ежедневно генерирует «порции» (bagels) — ограниченный набор рекомендаций, отбираемых на основе коллаборативной фильтрации и эвристики «совместимых интересов» (аналог OkCupid, но с жёстким ограничением на количество предложений) \cite{lee2021comb}. Такой подход направлен на снижение перегрузки выбором и повышение качества каждого матча.  
Другие сервисы, например Plenty of Fish и Hily, экспериментируют с машинным зрением (анализ фотографий) и NLP (анализ биографий) для дополнительной фильтрации.

\subsubsection{Общие тенденции}

Современные платформы склоняются к гибридным решениям, объединяющим:
\begin{itemize}
	\item анализ анкетных данных и опросов (content);
	\item collaborative filtering и reciprocal recommendation;
	\item эвристики активности и социального контекста;
	\item технологические новации (GNN, NLP, CV) для более глубокой семантической обработки.
\end{itemize}
Таким образом удаётся достичь баланса между качеством рекомендаций и вычислительными ресурсами, что особенно важно для мобильных приложений с высокой нагрузкой.


\subsection{Особенности сбора и представления пользовательских признаков}

В рекомендательных системах, применяемых в онлайн-знакомствах, центральную роль играет сбор и интерпретация информации о предпочтениях пользователей. Эти данные служат основой для построения персонализированных профилей и определения потенциально совместимых кандидатов. Анализ существующих решений в данной предметной области выявляет два крайних подхода к сбору информации:

\begin{itemize}
	\item длинные анкеты с детализированными вопросами, характерные для платформ вроде eHarmony, обеспечивают богатое представление о пользователе, но требуют значительных усилий при заполнении и приводят к высокой доле отказов;
	\item минималистичные интерфейсы типа Tinder предлагают быструю оценку по принципу свайпа, обеспечивая высокую конверсию, но теряя глубину предпочтений.
\end{itemize}

В качестве компромиссного решения рассматриваются тернарные опросы, в которых каждый вопрос допускает три варианта реакции: положительную, отрицательную и нейтральную. Это позволяет выразить отношение к различным характеристикам без излишней нагрузки. Каждый ответ кодируется значением $q_i \in \{-1, 0, 1\}$, где $i$ — номер вопроса. Такая шкала обеспечивает:

\begin{itemize}
	\item компактность векторного представления профиля;
	\item возможность учитывать отсутствие чёткой позиции;
	\item поддержку различных методов машинного обучения и заполнения пропусков.
\end{itemize}

Результаты сбора формируются в разреженную матрицу $R = (q_{u,i})$, где $u$ — пользователь, $i$ — вопрос, а $q_{u,i}$ — реакция. Пропущенные значения соответствуют отсутствию взаимодействия. На практике возможно использование стратегий заполнения: нулями, средним значением по вопросу, либо построение модели, устойчивой к разреженности.

В дополнение к ответам могут быть включены и другие признаки:

\begin{itemize}
	\item демографические данные — возраст (нормированный), пол (бинарная переменная);
	\item описания «о себе», конвертируемые в эмбеддинги с помощью языковых моделей;
	\item временные характеристики — длительность прохождения, количество пропусков, уверенность в ответах.
\end{itemize}

Особенность предметной области знакомств заключается в том, что каждый пользователь является одновременно субъектом и объектом рекомендаций. Это накладывает дополнительные требования к симметричности представлений и способности учитывать двустороннюю заинтересованность. Более того, успешность рекомендации здесь не сводится к лайку, а может быть оценена через цепочку взаимодействий: переписка, ответный интерес, встречи.

На этапе анализа задач были также выявлены следующие характеристики, которые следует учитывать при проектировании системы:

\begin{itemize}
	\item необходимость работать с разреженными признаковыми матрицами и отсутствием части информации;
	\item поддержка холодного старта для новых пользователей и вопросов;
	\item ориентация на сравнение пользователей между собой, а не на ранжирование объектов фиксированной природы.
\end{itemize}

Таким образом, представление предпочтений в тернарной форме, дополненное демографией и эмбеддингами, формирует универсальную основу для построения профилей. Эти профили могут использоваться в различных методах рекомендации — от коллаборативной фильтрации до кластеризации и нейросетевых моделей.

